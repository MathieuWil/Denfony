{% extends 'base.html.twig' %}

{% block title %}Mon Profil{% endblock %}

{% block body %}
<div class="container-fluid min-vh-100 d-flex justify-content-center align-items-center bg-light-gray">
    <div class="row w-100 justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg">
                <div class="card-body bg-light">
                    <h3 class="text-center mb-4">Mon Profil</h3>

                    {# Affichage des messages flash #}
                    {% for message in app.flashes('success') %}
                        <div class="alert alert-success">
                            {{ message }}
                        </div>
                    {% endfor %}
                    
                    {% for message in app.flashes('warning') %}
                        <div class="alert alert-warning">
                            {{ message }}
                        </div>
                    {% endfor %}
                    
                    <form action="{{ path('utilisateur_update') }}" method="POST">
                        <div class="form-group">
                            <label for="nom" class="custom-label">Nom</label>
                            <input type="text" id="nom" name="nom" class="form-control form-control-lg" value="{{ utilisateur.nom }}" required>
                        </div>

                        <div class="form-group mt-3">
                            <label for="prenom" class="custom-label">Prénom</label>
                            <input type="text" id="prenom" name="prenom" class="form-control form-control-lg" value="{{ utilisateur.prenom }}" required>
                        </div>

                        <div class="form-group mt-3">
                            <label for="email" class="custom-label">Email</label>
                            <input type="email" id="email" name="email" class="form-control form-control-lg" value="{{ utilisateur.email }}" required>
                        </div>

                        <div class="form-group mt-3">
                            <label for="tel" class="custom-label">Téléphone</label>
                            <input type="tel" id="tel" name="tel" class="form-control form-control-lg" value="{{ utilisateur.tel }}" required>
                        </div>

                        <button type="submit" class="btn btn-dark btn-lg btn-block text-white mt-4">Mettre à jour</button>
                    </form>

                    <div class="d-flex justify-content-between mt-4">
                        <form action="{{ path('utilisateur_delete') }}" method="POST" class="w-45">
                            <button type="submit" class="btn btn-dark btn-lg text-white w-100">Supprimer le compte</button>
                        </form>

                        <form action="{{ path('app_logout') }}" method="POST" class="w-45">
                            <button type="submit" class="btn btn-dark btn-lg text-white w-100">Se déconnecter</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
