{% extends "base.html.twig" %}

{% block title %}Profil{% endblock %}

{% block body %}
<div class="container mt-5">
    <h1 class="mb-4">Mon Profil</h1>

    <div class="card shadow-sm">
        <div class="card-body text-center">
            <img 
                src="{{ asset('images/default-avatar.png') }}" 
                alt="Photo de profil" 
                class="rounded-circle mb-3" 
                width="150" height="150"
            >

            <form method="post" action="{{ path('utilisateur_update') }}">
                <div class="row justify-content-center">
                    <!-- Prénom -->
                    <div class="col-md-6 mb-3">
                        <label for="prenom" class="form-label">Prénom</label>
                        <input 
                            type="text" 
                            id="prenom" 
                            name="prenom" 
                            class="form-control" 
                            value="{{ utilisateur.prenom }}" 
                            required
                        >
                    </div>

                    <!-- Nom -->
                    <div class="col-md-6 mb-3">
                        <label for="nom" class="form-label">Nom</label>
                        <input 
                            type="text" 
                            id="nom" 
                            name="nom" 
                            class="form-control" 
                            value="{{ utilisateur.nom }}" 
                            required
                        >
                    </div>

                    <!-- Email -->
                    <div class="col-md-6 mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            class="form-control" 
                            value="{{ utilisateur.email }}" 
                            required
                        >
                    </div>

                    <!-- Téléphone -->
                    <div class="col-md-6 mb-3">
                        <label for="tel" class="form-label">Téléphone</label>
                        <input 
                            type="tel" 
                            id="tel" 
                            name="tel" 
                            class="form-control" 
                            value="{{ utilisateur.tel }}" 
                            required
                        >
                    </div>
                </div>

                <div class="d-flex justify-content-center mt-4">
                    <button type="submit" class="btn btn-success me-3">Enregistrer</button>
                    <a href="{{ path('utilisateur') }}" class="btn btn-secondary">Annuler</a>
                </div>
            </form>

            <form method="post" action="{{ path('utilisateur_delete') }}" class="mt-3">
                <button type="submit" class="btn btn-danger" onclick="return confirm('Voulez-vous vraiment supprimer votre compte ?');">
                    Supprimer le compte
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
